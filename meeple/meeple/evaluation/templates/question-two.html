{% extends "base.html" %}
{% load static %}

{% block body %}

<div class="position-relative custom-container">
    <div class="position-absolute top-50 start-0 translate-middle-y negative-padding-bottom">
        <img src="{% static 'images/dicesReverse.png' %}" alt="Image" draggable="false" class="w-75">
    </div>

    <form action="{% url 'third' %}" method="post"
        class="container h-100 d-flex align-items-center justify-content-end position-absolute end-0 start-0 p-5 pr-5 w-100">
        {% csrf_token %}
        <div
            class="custom-div d-flex flex-column justify-content-center align-items-center shadow-lg p-5 bg-body rounded rounded-5 border border-dark border-2 w-100 med-maxwidth">
            <div class="text-center d-flex flex-column">
                <h1 class="pb-4 fw-bold text-center">What kind of gaming mood are you looking for?</h1>
                <div class="d-flex flex-wrap justify-content-center">
                    <button type="button" class="btn btn-primary rounded-pill btn-inverse-mostaza px-4 fw-bold m-2"
                        value="game-style" name="button" onclick="pressedButton(this)">Party</button>
                    <button type="button" class="btn btn-primary rounded-pill btn-inverse-mostaza px-4 fw-bold m-2"
                        value="game-style" name="button" onclick="pressedButton(this)">Easy-to-play</button>
                    <button type="button" class="btn btn-primary rounded-pill btn-inverse-mostaza px-4 fw-bold m-2"
                        value="game-style" name="button" onclick="pressedButton(this)">Expert</button>
                    <button type="button" class="btn btn-primary rounded-pill btn-inverse-mostaza px-4 fw-bold m-2"
                        value="game-style" name="button" onclick="pressedButton(this)">Cooperative</button>
                    <button type="button" class="btn btn-primary rounded-pill btn-inverse-mostaza px-4 fw-bold m-2"
                        value="game-style" name="button" onclick="pressedButton(this)">Strategic</button>
                    <button type="button" class="btn btn-primary rounded-pill btn-inverse-mostaza px-4 fw-bold m-2"
                        value="game-style" name="button" onclick="pressedButton(this)">Story-based</button>
                    <button type="button" class="btn btn-primary rounded-pill btn-inverse-mostaza px-4 fw-bold m-2"
                        value="game-style" name="button" onclick="pressedButton(this)">Thematic</button>
                </div>
                <input type="hidden" name="selections" id="selections">
                <br>
                <div class="d-flex justify-content-end">
                    <button type="submit" class="btn btn-primary rounded-pill btn-terracota px-4 fw-bold mt-3">Send
                        choices</button>
                </div>
            </div>
        </div>
    </form>
</div>

<script>
    // Action that makes when a choice button is pressed
    function pressedButton(boton) {
        // Change to checked-button class
        boton.classList.toggle('checked-button');

        actualizarselections();
    }

    function actualizarselections() {
        const botones = document.querySelectorAll('form button');
        const selections = [];

        botones.forEach(boton => {
            if (boton.classList.contains('checked-button')) {
                selections.push(boton.textContent);
            }
        });

        document.getElementById('selections').value = JSON.stringify(selections);
    }
</script>

{% endblock body %}