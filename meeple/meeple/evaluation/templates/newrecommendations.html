{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block overflow %}

<body style="overflow-x: hidden;">

    {% endblock overflow %}

    {% block body %}

    <form action="" method="post">
        {% csrf_token %}

        <div id="finish" class="modal">
            <div class="modal-content info-content">
                <h2>{% trans "EvaluatorPtOne" %} &hearts; </h2>
                <br>
                <div class="form-control form-rounded">
                <h5>{% trans "EvaluatorPtTwo" %}</h5>
                <br>
                <div class="d-flex justify-content-between w-75 mx-auto">
                    <button type="submit" class="btn btn-primary rounded-pill btn-terracota px-4" value="moreEvals"
                        name="button">{% trans "EvaluatorButtonPtOne" %}</button>
                    <button type="submit" class="btn btn-primary rounded-pill btn-mostaza px-4" value="exit"
                        name="button">{% trans "EvaluatorButtonPtTwo" %}</button>
                </div>
            </div>
            </div>
        </div>

        <div class="position-relative custom-container">
            <div class="position-absolute top-0 start-0">
                <img src="{% static 'images/dicesLeft.png' %}" alt="Image" draggable="false"
                    style="transform: rotate(64deg);">
            </div>

            <div class="position-absolute bottom-0 end-0">
                <img src="{% static 'images/dicesRight.png' %}" alt="Image" draggable="false"
                    style="transform: rotate(31deg);">
            </div>

            <div
                class="justify-content-start shadow-lg p-5 bg-body rounded rounded-5 position-absolute top-0 start-50 translate-middle-x border border-dark border-2 w-75">

                <ul class="list-group list-group-flush">
                    <h2>{% trans "NewRecommendationTitle" %}</h2>
                    <h4>{% trans "PreferencesTitle" %}</h4>
                    <div style="width: 100%; text-align: center;">
                        {% for preference in preferences_part %}
                        <span
                            style="display: inline-block; background-color: #d3d3d3; border: 2px solid #a9a9a9; margin: 5px; padding: 5px;">
                            {{ preference }}
                        </span>
                        {% endfor %}
                    </div>
                    <hr>


                    {% for gameRow in zacatrus_games %}
                    <li class="list-group-item">
                        <div class="row">
                            <div class="col-3">
                                <img src="{{ MEDIA_URL }}images_zacatrus/{{ gameRow.0 }}.jpg" alt="Image"
                                    class="img-fluid">
                            </div>
                            <div class="col-sm-8">
                                <h4>{{ gameRow.1 }}<i class="bi bi-info-circle" onclick="openNotification()"></i></h4>
                                <div class="ms-5">
                                    <p>texto</p>
                                </div>
                                
                            </div>
                            <div class="col-1">
                                <h5>{{ gameRow.5 }}/10<i class="fa-solid fa-star text-warning"></i></h5>
                            </div>
                        </div>
                    </li>
                    {% endfor %}
                </ul>

                <div class="d-flex justify-content-end">

                    <button type="button" class="btn btn-primary rounded-pill btn-terracota w-50 br-0" id="submitButton"
                        onclick="openInformation()">{% trans "ChooseRecom" %}</button>
                </div>
            </div>
    </form>
    </div>

    <script>
        // Función para abrir la ventana de agradecimiento
        function openInformation() {
            document.getElementById("finish").style.display = "block";
        }

        // Función para cerrar la ventana de agradecimiento
        function closeInformation() {
            document.getElementById("finish").style.display = "none";
        }

        // Cerrar la ventana flotante si se hace clic fuera de él
        window.onclick = function (event) {
            var finish = document.getElementById("finish");
            if (event.target == finish) {
                closeInformation();
            }
        }
    </script>

    {% endblock body %}