{% extends "base.html" %}
{% load static %}
{% load i18n %}

{% block overflow %}

<body style="overflow-x: hidden;">

    {% endblock overflow %}

    {% block body %}



    <div class="position-relative custom-container">
        <div class="position-absolute top-0 start-0">
            <img src="{% static 'images/dicesLeft.png' %}" alt="Image" draggable="false"
                style="transform: rotate(64deg);">
        </div>

        <div class="position-absolute bottom-0 end-0">
            <img src="{% static 'images/dicesRight.png' %}" alt="Image" draggable="false"
                style="transform: rotate(31deg);">
        </div>

        <form action="" method="post">
            {% csrf_token %}
            <div
                class="justify-content-start shadow-lg p-5 bg-body rounded rounded-5 position-absolute top-0 start-50 translate-middle-x border border-dark border-2 custom-width">
                <div
                    class="row h-100 p-5 rounded rounded-5 border border-dark border-1 w-100 background-creme">
                    <!-- Fila 1 -->
                    <div class="col-md-6 mb-3 text-start">
                        <h3 class="fw-bold">{% trans "RecommendationFirstTitle" %}</h3>
                        <h3>{% trans "RecommendationSecondTitle" %}</h3>
                    </div>

                    <!-- Fila 2 con botón redimensionable -->
                    <div class="col-md-6 mb-3 text-center">
                        <button type="submit" class="btn btn-primary rounded-pill btn-terracota w-100"
                            value="newrecommendation" name="button">
                            <h5 class="m-0 fw-bold" style="font-size: clamp(12px, 2vw, 24px);">{% trans "RecommendationSearch" %}</h5>
                        </button>
                    </div>
                </div>



                <ul class="list-group list-group-flush pt-5">
                    {% for eval in user_evaluations_page %}
                      <li class="list-group-item">
                        <div class="row">
                          <div class="col-3">
                            <img src="{{ MEDIA_URL }}images_zacatrus/{{ eval.recommendation.game.id_BGG }}.jpg" alt="Image" class="img-fluid">
                          </div>
                          <div class="col-9">
                            <p>{{ eval.date_created }}</p>
                          </div>
                        </div>
                      </li>
                    {% empty %}
                      <li class="list-group-item">
                        {% trans "NoEval" %}
                      </li>
                    {% endfor %}
                  </ul>
                
                  <!-- Controles de paginación -->
                  <nav aria-label="Page navigation">
                    <ul class="pagination justify-content-center">
                      {% if user_evaluations_page.has_previous %}
                        <li class="page-item">
                          <a class="page-link" href="?page={{ user_evaluations_page.previous_page_number }}" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                          </a>
                        </li>
                      {% else %}
                        <li class="page-item disabled">
                          <span class="page-link" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                          </span>
                        </li>
                      {% endif %}
                
                      {% for num in user_evaluations_page.paginator.page_range %}
                        {% if user_evaluations_page.number == num %}
                          <li class="page-item active">
                            <span class="page-link">{{ num }}</span>
                          </li>
                        {% else %}
                          <li class="page-item">
                            <a class="page-link" href="?page={{ num }}">{{ num }}</a>
                          </li>
                        {% endif %}
                      {% endfor %}
                
                      {% if user_evaluations_page.has_next %}
                        <li class="page-item">
                          <a class="page-link" href="?page={{ user_evaluations_page.next_page_number }}" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                          </a>
                        </li>
                      {% else %}
                        <li class="page-item disabled">
                          <span class="page-link" aria-label="Next">
                            <span aria-hidden="true">&raquo;</span>
                          </span>
                        </li>
                      {% endif %}
                    </ul>
                  </nav>
            </div>
        </form>
    </div>

    {% endblock body %}